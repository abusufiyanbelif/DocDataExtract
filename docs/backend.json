{
  "entities": {
    "Branding": {
      "title": "Branding Settings",
      "description": "Global branding settings for the application.",
      "type": "object",
      "properties": {
        "logoUrl": {
          "type": "string",
          "format": "uri",
          "description": "The public URL of the uploaded company logo."
        }
      }
    },
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile in the system.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The user's full name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's primary email address, used for authentication."
        },
        "phone": {
          "type": "string",
          "description": "The user's phone number."
        },
        "loginId": {
          "type": "string",
          "description": "The user's unique login ID."
        },
        "userKey": {
          "type": "string",
          "description": "A unique system-generated key for the user, used to link to the auth account. Cannot be edited."
        },
        "password": {
          "type": "string",
          "description": "The user's hashed password for custom authentication. This field should not be managed from the client-side due to security risks."
        },
        "role": {
          "type": "string",
          "enum": [
            "Admin",
            "User"
          ],
          "description": "The user's role. 'Admin' has all permissions by default."
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Inactive"
          ],
          "description": "The current status of the user account."
        },
        "idProofType": {
          "type": "string",
          "description": "The type of ID proof provided (e.g., Aadhaar, PAN)."
        },
        "idNumber": {
          "type": "string",
          "description": "The ID number from the provided proof."
        },
        "idProofUrl": {
          "type": "string",
          "description": "URL of the uploaded ID proof document."
        },
        "permissions": {
          "type": "object",
          "description": "Granular permissions for the user.",
          "properties": {
            "users": {
              "$ref": "#/backend/entities/CrudPermissions"
            },
            "campaigns": {
              "type": "object",
              "description": "Permissions for the Campaigns module.",
              "properties": {
                "read": {
                  "type": "boolean"
                },
                "create": {
                  "type": "boolean"
                },
                "update": {
                  "type": "boolean"
                },
                "delete": {
                  "type": "boolean"
                },
                "summary": {
                  "type": "object",
                  "properties": {
                    "read": {
                      "type": "boolean"
                    },
                    "update": {
                      "type": "boolean"
                    }
                  }
                },
                "ration": {
                  "type": "object",
                  "properties": {
                    "read": {
                      "type": "boolean"
                    },
                    "update": {
                      "type": "boolean"
                    }
                  }
                },
                "beneficiaries": {
                  "$ref": "#/backend/entities/CrudPermissions"
                },
                "donations": {
                  "$ref": "#/backend/entities/CrudPermissions"
                }
              }
            },
            "leads": {
              "type": "object",
              "description": "Permissions for the Leads module.",
              "properties": {
                "read": {
                  "type": "boolean"
                },
                "create": {
                  "type": "boolean"
                },
                "update": {
                  "type": "boolean"
                },
                "delete": {
                  "type": "boolean"
                },
                "summary": {
                  "type": "object",
                  "properties": {
                    "read": {
                      "type": "boolean"
                    },
                    "update": {
                      "type": "boolean"
                    }
                  }
                },
                "ration": {
                  "type": "object",
                  "properties": {
                    "read": {
                      "type": "boolean"
                    },
                    "update": {
                      "type": "boolean"
                    }
                  }
                },
                "beneficiaries": {
                  "$ref": "#/backend/entities/CrudPermissions"
                },
                "donations": {
                  "$ref": "#/backend/entities/CrudPermissions"
                }
              }
            },
            "extractor": {
              "type": "object",
              "properties": {
                "read": {
                  "type": "boolean"
                }
              }
            },
            "storyCreator": {
              "type": "object",
              "properties": {
                "read": {
                  "type": "boolean"
                }
              }
            },
            "diagnostics": {
              "type": "object",
              "properties": {
                "read": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user was created."
        },
        "createdById": {
          "type": "string",
          "description": "The ID of the user who created this user."
        },
        "createdByName": {
          "type": "string",
          "description": "The name of the user who created this user."
        }
      },
      "required": [
        "name",
        "email",
        "phone",
        "loginId",
        "userKey",
        "role",
        "status"
      ]
    },
    "UserLookup": {
      "title": "User Lookup",
      "description": "A public record for mapping a login ID or phone number to a user's email.",
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's primary email address."
        },
        "userKey": {
          "type": "string",
          "description": "The unique system-generated key for the user, used for ownership verification."
        }
      },
      "required": [
        "email",
        "userKey"
      ]
    },
    "RationItem": {
      "title": "Ration Item",
      "description": "A single item in a ration kit, part of a campaign's ration list.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "A unique identifier for the ration item within its list."
        },
        "name": {
          "type": "string",
          "description": "The name of the ration item."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity/amount of the item (e.g., 10)."
        },
        "quantityType": {
          "type": "string",
          "description": "The unit of measurement for the quantity.",
          "enum": [
            "kg",
            "litre",
            "gram",
            "ml",
            "piece",
            "packet",
            "dozen"
          ]
        },
        "price": {
          "type": "number",
          "description": "The price of the item in Rupees. For the 'General Item List', this is price per unit."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes for the item (e.g., brand, price per unit)."
        }
      },
      "required": [
        "id",
        "name",
        "price"
      ]
    },
    "Beneficiary": {
      "title": "Beneficiary",
      "description": "An individual or family receiving benefits from a campaign.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The full name of the beneficiary."
        },
        "address": {
          "type": "string",
          "description": "The beneficiary's full residential address."
        },
        "phone": {
          "type": "string",
          "description": "The beneficiary's 10-digit phone number."
        },
        "members": {
          "type": "integer",
          "description": "The number of members in the beneficiary's family."
        },
        "earningMembers": {
          "type": "integer",
          "description": "The number of earning members in the family."
        },
        "male": {
          "type": "integer",
          "description": "The number of male members in the family."
        },
        "female": {
          "type": "integer",
          "description": "The number of female members in the family."
        },
        "addedDate": {
          "type": "string",
          "format": "date",
          "description": "The date the beneficiary was added to the campaign."
        },
        "idProofType": {
          "type": "string",
          "description": "The type of ID proof provided (e.g., Aadhaar, PAN)."
        },
        "idNumber": {
          "type": "string",
          "description": "The ID number from the provided proof."
        },
        "referralBy": {
          "type": "string",
          "description": "The person or organization that referred the beneficiary."
        },
        "kitAmount": {
          "type": "number",
          "description": "The total amount of the ration kit provided, in Rupees."
        },
        "status": {
          "type": "string",
          "enum": [
            "Given",
            "Pending",
            "Hold",
            "Need More Details",
            "Verified"
          ],
          "description": "The current status of the beneficiary's ration kit."
        },
        "idProofUrl": {
          "type": "string",
          "description": "URL of the uploaded ID proof document."
        },
        "idProofIsPublic": {
          "type": "boolean",
          "description": "Whether the ID proof document is publicly visible."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the beneficiary was created."
        },
        "createdById": {
          "type": "string",
          "description": "ID of the user who added the beneficiary."
        },
        "createdByName": {
          "type": "string",
          "description": "Name of the user who added the beneficiary."
        }
      },
      "required": [
        "name",
        "referralBy"
      ]
    },
    "Campaign": {
      "title": "Campaign",
      "description": "A campaign to distribute resources, such as ration kits.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the campaign."
        },
        "category": {
          "type": "string",
          "description": "The category of the campaign (e.g., Ration, Relief).",
          "enum": [
            "Ration",
            "Relief",
            "General"
          ]
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the campaign's goals and purpose."
        },
        "targetAmount": {
          "type": "number",
          "description": "The fundraising goal for the campaign in Rupees."
        },
        "startDate": {
          "type": "string",
          "format": "date",
          "description": "The start date of the campaign."
        },
        "endDate": {
          "type": "string",
          "format": "date",
          "description": "The end date of the campaign."
        },
        "status": {
          "type": "string",
          "description": "The current status of the campaign (e.g., 'Upcoming', 'Active', 'Completed')."
        },
        "priceDate": {
          "type": "string",
          "format": "date",
          "description": "The date for which the ration prices are valid."
        },
        "shopName": {
          "type": "string",
          "description": "The name of the shop where items are purchased."
        },
        "shopContact": {
          "type": "string",
          "description": "The contact number for the shop."
        },
        "shopAddress": {
          "type": "string",
          "description": "The address of the shop."
        },
        "documents": {
          "type": "array",
          "description": "A list of related documents for the campaign.",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "url": { "type": "string" },
              "isPublic": { "type": "boolean" }
            },
            "required": ["name", "url", "isPublic"]
          }
        },
        "rationLists": {
          "type": "object",
          "description": "A map where keys are member counts (e.g., '5', 'General Item List') and values are the corresponding lists of ration items.",
          "additionalProperties": {
            "type": "array",
            "items": {
              "$ref": "#/backend/entities/RationItem"
            }
          }
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the campaign was created."
        },
        "createdById": {
          "type": "string",
          "description": "ID of the user who created the campaign."
        },
        "createdByName": {
          "type": "string",
          "description": "Name of the user who created the campaign."
        }
      },
      "required": [
        "name",
        "category",
        "status",
        "startDate",
        "endDate"
      ]
    },
    "Lead": {
      "title": "Lead",
      "description": "A lead for a potential campaign or initiative.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the lead."
        },
        "category": {
          "type": "string",
          "description": "The category of the lead (e.g., Ration, Relief).",
          "enum": [
            "Ration",
            "Relief",
            "General"
          ]
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the lead's goals and purpose."
        },
        "targetAmount": {
          "type": "number",
          "description": "The fundraising goal for the lead in Rupees."
        },
        "startDate": {
          "type": "string",
          "format": "date",
          "description": "The start date of the lead."
        },
        "endDate": {
          "type": "string",
          "format": "date",
          "description": "The end date of the lead."
        },
        "status": {
          "type": "string",
          "description": "The current status of the lead (e.g., 'Upcoming', 'Active', 'Completed')."
        },
        "priceDate": {
          "type": "string",
          "format": "date",
          "description": "The date for which the ration prices are valid."
        },
        "shopName": {
          "type": "string",
          "description": "The name of the shop where items are purchased."
        },
        "shopContact": {
          "type": "string",
          "description": "The contact number for the shop."
        },
        "shopAddress": {
          "type": "string",
          "description": "The address of the shop."
        },
        "documents": {
          "type": "array",
          "description": "A list of related documents for the lead.",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "url": { "type": "string" },
              "isPublic": { "type": "boolean" }
            },
            "required": ["name", "url", "isPublic"]
          }
        },
        "rationLists": {
          "type": "object",
          "description": "A map where keys are member counts (e.g., '5', 'General Item List') and values are the corresponding lists of ration items.",
          "additionalProperties": {
            "type": "array",
            "items": {
              "$ref": "#/backend/entities/RationItem"
            }
          }
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the lead was created."
        },
        "createdById": {
          "type": "string",
          "description": "ID of the user who created the lead."
        },
        "createdByName": {
          "type": "string",
          "description": "Name of the user who created the lead."
        }
      },
      "required": [
        "name",
        "category",
        "status",
        "startDate",
        "endDate"
      ]
    },
    "Donation": {
      "title": "Donation",
      "description": "A donation made towards a campaign.",
      "type": "object",
      "properties": {
        "donorName": {
          "type": "string",
          "description": "The name of the donor."
        },
        "donorPhone": {
          "type": "string",
          "description": "The donor's 10-digit phone number."
        },
        "receiverName": {
          "type": "string",
          "description": "The name of the person who received the donation."
        },
        "amount": {
          "type": "number",
          "description": "The donation amount in Rupees."
        },
        "type": {
          "type": "string",
          "enum": [
            "Zakat",
            "Sadqa",
            "Interest",
            "Lillah",
            "General"
          ],
          "description": "The type of donation."
        },
        "donationType": {
          "type": "string",
          "enum": [
            "Cash",
            "Online Payment",
            "Check",
            "Other"
          ],
          "description": "The method of payment for the donation."
        },
        "transactionId": {
          "type": "string",
          "description": "A unique transaction identifier (e.g., UPI Transaction ID) for online payments. Helps prevent duplicate entries."
        },
        "referral": {
          "type": "string",
          "description": "The person or entity that referred the donor."
        },
        "donationDate": {
          "type": "string",
          "format": "date",
          "description": "The date the donation was made."
        },
        "status": {
          "type": "string",
          "enum": [
            "Verified",
            "Pending",
            "Canceled"
          ],
          "description": "The verification status of the donation."
        },
        "screenshotUrl": {
          "type": "string",
          "description": "URL of the uploaded donation screenshot."
        },
        "screenshotIsPublic": {
          "type": "boolean",
          "description": "Whether the donation screenshot is publicly visible."
        },
        "uploadedBy": {
          "type": "string",
          "description": "Name of the user who recorded the donation."
        },
        "uploadedById": {
          "type": "string",
          "description": "ID of the user who recorded the donation."
        },
        "campaignId": {
          "type": "string",
          "description": "The ID of the campaign this donation belongs to."
        },
        "campaignName": {
          "type": "string",
          "description": "The name of the campaign this donation belongs to."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the donation was recorded."
        }
      },
      "required": [
        "donorName",
        "receiverName",
        "amount",
        "type",
        "donationType",
        "referral",
        "donationDate",
        "status",
        "uploadedBy",
        "uploadedById",
        "campaignId",
        "campaignName"
      ]
    },
    "CrudPermissions": {
      "title": "CRUD Permissions",
      "description": "Defines full Create, Read, Update, Delete permissions.",
      "type": "object",
      "properties": {
        "create": {
          "type": "boolean"
        },
        "read": {
          "type": "boolean"
        },
        "update": {
          "type": "boolean"
        },
        "delete": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    }
  },
  "auth": {
    "providers": [
      "Email/Password",
      "Phone"
    ]
  },
  "firestore": {
    "/settings/branding": {
      "schema": {
        "$ref": "#/backend/entities/Branding"
      },
      "description": "Stores global branding settings like the logo URL."
    },
    "/user_lookups/{lookupId}": {
      "schema": {
        "$ref": "#/backend/entities/UserLookup"
      },
      "description": "Publicly readable mapping of login IDs and phone numbers to user keys."
    },
    "/users/{userId}": {
      "schema": {
        "$ref": "#/backend/entities/UserProfile"
      },
      "description": "Stores public profile information for each user."
    },
    "/campaigns/{campaignId}": {
      "schema": {
        "$ref": "#/backend/entities/Campaign"
      },
      "description": "Stores details for each campaign."
    },
    "/campaigns/{campaignId}/beneficiaries/{beneficiaryId}": {
      "schema": {
        "$ref": "#/backend/entities/Beneficiary"
      },
      "description": "Stores the list of beneficiaries for a specific campaign."
    },
    "/leads/{leadId}": {
      "schema": {
        "$ref": "#/backend/entities/Lead"
      },
      "description": "Stores details for each lead."
    },
    "/leads/{leadId}/beneficiaries/{beneficiaryId}": {
      "schema": {
        "$ref": "#/backend/entities/Beneficiary"
      },
      "description": "Stores the list of beneficiaries for a specific lead."
    },
    "/donations/{donationId}": {
      "schema": {
        "$ref": "#/backend/entities/Donation"
      },
      "description": "Stores all donation records across all campaigns."
    }
  }
}
